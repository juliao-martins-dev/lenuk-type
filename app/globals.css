@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 215 35% 97%;
  --foreground: 222 47% 11%;
  --card: 0 0% 100%;
  --card-foreground: 222 47% 11%;
  --primary: 204 94% 44%;
  --primary-foreground: 0 0% 100%;
  --muted: 214 30% 93%;
  --muted-foreground: 215 16% 40%;
  --accent: 214 30% 93%;
  --accent-foreground: 222 47% 11%;
  --destructive: 0 72% 51%;
  --destructive-foreground: 0 0% 100%;
  --border: 214 28% 86%;
  --input: 214 28% 86%;
  --ring: 204 94% 44%;
}

.dark {
  --background: 222 47% 6%;
  --foreground: 210 40% 96.1%;
  --card: 224 43% 8%;
  --card-foreground: 210 40% 98%;
  --primary: 204 100% 62%;
  --primary-foreground: 224 71% 4%;
  --muted: 217 33% 17%;
  --muted-foreground: 215 20% 65%;
  --accent: 217 33% 17%;
  --accent-foreground: 210 40% 96.1%;
  --destructive: 0 62% 35%;
  --destructive-foreground: 210 40% 98%;
  --border: 217 33% 18%;
  --input: 217 33% 18%;
  --ring: 199 89% 48%;
}

* {
  @apply border-border;
}

body {
  @apply bg-background text-foreground antialiased;
  background-image:
    radial-gradient(circle at 10% 10%, hsl(var(--primary) / 0.08), transparent 40%),
    radial-gradient(circle at 90% 0%, hsl(var(--primary) / 0.05), transparent 35%);
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

@keyframes leaderboard-button-pulse {
  0%,
  100% {
    box-shadow:
      0 8px 22px hsl(var(--primary) / 0.18),
      0 0 0 0 hsl(var(--primary) / 0.14);
    transform: translateY(0);
  }
  45% {
    box-shadow:
      0 12px 28px hsl(var(--primary) / 0.26),
      0 0 0 8px hsl(var(--primary) / 0);
    transform: translateY(-1px);
  }
  65% {
    box-shadow:
      0 10px 24px hsl(var(--primary) / 0.22),
      0 0 0 14px hsl(var(--primary) / 0);
    transform: translateY(0);
  }
}

@keyframes leaderboard-orb-pulse {
  0%,
  100% {
    box-shadow:
      0 0 0 0 hsl(0 0% 100% / 0.35),
      0 0 0 0 hsl(0 0% 100% / 0.25);
    transform: scale(1);
    opacity: 0.95;
  }
  40% {
    box-shadow:
      0 0 0 5px hsl(0 0% 100% / 0),
      0 0 0 11px hsl(0 0% 100% / 0);
    transform: scale(1.15);
    opacity: 1;
  }
  75% {
    transform: scale(0.95);
    opacity: 0.92;
  }
}

@keyframes leaderboard-badge-float {
  0%,
  100% {
    transform: translateY(0);
    background-color: hsl(0 0% 100% / 0.1);
  }
  50% {
    transform: translateY(-1px);
    background-color: hsl(0 0% 100% / 0.16);
  }
}

@keyframes leaderboard-sheen {
  0%,
  22%,
  100% {
    transform: translateX(0);
    opacity: 0;
  }
  28% {
    opacity: 0.55;
  }
  48% {
    transform: translateX(270%);
    opacity: 0;
  }
}

.leaderboard-live-button {
  isolation: isolate;
}

.leaderboard-live-button:hover,
.leaderboard-live-button:focus-visible {
  animation-play-state: paused;
}

.leaderboard-live-aura {
  background:
    radial-gradient(circle at 16% 18%, rgb(255 255 255 / 0.2), transparent 38%),
    radial-gradient(circle at 85% 78%, hsl(var(--primary) / 0.24), transparent 52%);
  opacity: 0.95;
  z-index: -1;
}

.leaderboard-live-orb {
  animation: leaderboard-orb-pulse 1.9s ease-in-out infinite;
}

.leaderboard-live-badge {
  animation: leaderboard-badge-float 2.2s ease-in-out infinite;
}

@keyframes firework-trail {
  0% {
    opacity: 0;
    transform: translateY(26px) scaleY(0.15);
  }
  14% {
    opacity: 0.95;
  }
  52% {
    opacity: 0.9;
    transform: translateY(0) scaleY(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-6px) scaleY(0.25);
  }
}

@keyframes firework-core {
  0%,
  34% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.1);
  }
  42% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.85);
  }
  56% {
    opacity: 0.95;
    transform: translate(-50%, -50%) scale(1.7);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(2.8);
  }
}

@keyframes firework-ring {
  0%,
  38% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.1);
  }
  45% {
    opacity: 0.65;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(3.2);
  }
}

@keyframes firework-particle {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--particle-angle)) translateX(0) scale(0.25);
  }
  12% {
    opacity: 1;
  }
  70% {
    opacity: 0.95;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--particle-angle)) translateX(var(--particle-distance)) scale(0.15);
  }
}

.fireworks-stage {
  position: absolute;
  inset: 0;
  overflow: hidden;
}

.firework-burst {
  position: absolute;
  width: 0;
  height: 0;
  --firework-color: hsl(var(--burst-hue) 100% 64%);
}

.firework-trail {
  position: absolute;
  left: -1px;
  top: -92px;
  width: 2px;
  height: 92px;
  border-radius: 9999px;
  transform-origin: center bottom;
  background: linear-gradient(to top, transparent, hsl(var(--burst-hue) 100% 72% / 0.95) 40%, hsl(var(--burst-hue) 100% 68%));
  box-shadow: 0 0 12px hsl(var(--burst-hue) 100% 70% / 0.35);
  opacity: 0;
  animation: firework-trail 0.9s ease-out forwards;
  animation-delay: var(--burst-delay);
}

.firework-core,
.firework-ring {
  position: absolute;
  left: 0;
  top: 0;
  border-radius: 9999px;
  opacity: 0;
}

.firework-core {
  width: 8px;
  height: 8px;
  background: radial-gradient(circle, #fff 0%, hsl(var(--burst-hue) 100% 72%) 52%, transparent 78%);
  box-shadow:
    0 0 16px hsl(var(--burst-hue) 100% 70% / 0.85),
    0 0 28px hsl(var(--burst-hue) 100% 62% / 0.45);
  animation: firework-core 0.95s ease-out forwards;
  animation-delay: calc(var(--burst-delay) + 360ms);
}

.firework-ring {
  width: 14px;
  height: 14px;
  border: 1.5px solid hsl(var(--burst-hue) 100% 72% / 0.75);
  box-shadow: 0 0 18px hsl(var(--burst-hue) 100% 70% / 0.25);
  animation: firework-ring 1s ease-out forwards;
  animation-delay: calc(var(--burst-delay) + 360ms);
}

.firework-particle {
  position: absolute;
  left: 0;
  top: 0;
  width: var(--particle-size);
  height: var(--particle-size);
  border-radius: 9999px;
  background: hsl(calc(var(--burst-hue) + var(--particle-hue-shift)) 100% 68%);
  box-shadow: 0 0 8px hsl(calc(var(--burst-hue) + var(--particle-hue-shift)) 100% 68% / 0.9);
  opacity: 0;
  animation: firework-particle 1.15s cubic-bezier(0.2, 0.95, 0.2, 1) forwards;
  animation-delay: calc(var(--burst-delay) + 390ms + var(--particle-delay));
}

@media (prefers-reduced-motion: reduce) {
  .leaderboard-live-button,
  .leaderboard-live-orb,
  .leaderboard-live-badge {
    animation: none !important;
  }

  .firework-trail,
  .firework-core,
  .firework-ring,
  .firework-particle {
    animation: none !important;
    opacity: 0 !important;
  }
}
